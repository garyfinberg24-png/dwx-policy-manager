// ============================================================================
// JML Standard Table Styles
// ============================================================================
// This is the authoritative source for all table styling in the JML solution.
// Import this module in any component that displays tabular data.
//
// Usage:
//   import tableStyles from '../../../styles/tables.module.scss';
//   <table className={tableStyles.jmlTable}>
//     <thead className={tableStyles.jmlTableHeader}>
//       <tr><th className={tableStyles.jmlTableHeaderCell}>Column</th></tr>
//     </thead>
//     <tbody>
//       <tr className={tableStyles.jmlTableRow}>
//         <td className={tableStyles.jmlTableCell}>Data</td>
//       </tr>
//     </tbody>
//   </table>
// ============================================================================

// =============================================================================
// JML Design Tokens (matching JML-Official-Style-Guide.html)
// =============================================================================
$jml-primary: #0078d4;
$jml-primary-dark: #106ebe;
$jml-primary-darker: #005a9e;
$jml-teal: #03787c;

$jml-neutral-primary: #323130;
$jml-neutral-secondary: #605e5c;
$jml-neutral-tertiary: #8a8886;
$jml-neutral-light: #edebe9;
$jml-neutral-lighter: #f3f2f1;
$jml-neutral-lightest: #faf9f8;
$jml-white: #ffffff;

$jml-success: #107c10;
$jml-success-light: #dff6dd;
$jml-warning: #ffb900;
$jml-warning-light: #fff4ce;
$jml-error: #d13438;
$jml-error-light: #fde7e9;
$jml-info: #0078d4;
$jml-info-light: #deecf9;

// Spacing (4px grid)
$spacing-xs: 4px;
$spacing-s: 8px;
$spacing-m: 12px;
$spacing-l: 16px;
$spacing-xl: 20px;
$spacing-xxl: 24px;

// =============================================================================
// TABLE CONTAINER
// =============================================================================
.jmlTableContainer {
  background: $jml-white;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  overflow: hidden;
}

.jmlTableContainerBordered {
  @extend .jmlTableContainer;
  border: 1px solid $jml-neutral-light;
}

// =============================================================================
// BASE TABLE
// =============================================================================
.jmlTable {
  width: 100%;
  border-collapse: collapse;
  font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
  font-size: 14px;
  color: $jml-neutral-primary;
}

// =============================================================================
// TABLE HEADER
// =============================================================================
.jmlTableHeader {
  background: $jml-neutral-lighter;
  border-bottom: 2px solid $jml-primary;
}

.jmlTableHeaderCell {
  padding: $spacing-m $spacing-l;
  text-align: left;
  font-size: 12px;
  font-weight: 600;
  color: $jml-neutral-secondary;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  white-space: nowrap;

  // Sortable header styles
  &.sortable {
    cursor: pointer;
    user-select: none;

    &:hover {
      background: $jml-neutral-light;
      color: $jml-neutral-primary;
    }
  }

  // Alignment variants
  &.alignCenter {
    text-align: center;
  }

  &.alignRight {
    text-align: right;
  }
}

// =============================================================================
// TABLE BODY & ROWS
// =============================================================================
.jmlTableBody {
  background: $jml-white;
}

.jmlTableRow {
  border-bottom: 1px solid $jml-neutral-light;
  transition: background-color 0.15s ease;

  &:hover {
    background: $jml-neutral-lightest;
  }

  &:last-child {
    border-bottom: none;
  }
}

// Row variants
.jmlTableRowSelected {
  @extend .jmlTableRow;
  background: $jml-info-light;

  &:hover {
    background: darken($jml-info-light, 3%);
  }
}

.jmlTableRowHighlight {
  @extend .jmlTableRow;
  background: $jml-warning-light;

  &:hover {
    background: darken($jml-warning-light, 3%);
  }
}

.jmlTableRowSuccess {
  @extend .jmlTableRow;
  background: $jml-success-light;

  &:hover {
    background: darken($jml-success-light, 3%);
  }
}

.jmlTableRowError {
  @extend .jmlTableRow;
  background: $jml-error-light;

  &:hover {
    background: darken($jml-error-light, 3%);
  }
}

// Alternating row colors (optional - apply to tbody)
.jmlTableStriped {
  .jmlTableRow:nth-child(even) {
    background: $jml-neutral-lightest;

    &:hover {
      background: $jml-neutral-lighter;
    }
  }
}

// =============================================================================
// TABLE CELLS
// =============================================================================
.jmlTableCell {
  padding: $spacing-m $spacing-l;
  vertical-align: middle;
  color: $jml-neutral-primary;

  // Alignment variants
  &.alignCenter {
    text-align: center;
  }

  &.alignRight {
    text-align: right;
  }

  // Numeric cells (right-aligned, monospace)
  &.numeric {
    text-align: right;
    font-family: 'Consolas', 'Courier New', monospace;
    font-variant-numeric: tabular-nums;
  }

  // Compact cells
  &.compact {
    padding: $spacing-s $spacing-m;
  }

  // Nowrap for single-line content
  &.nowrap {
    white-space: nowrap;
  }
}

// =============================================================================
// STATUS BADGES
// =============================================================================
.jmlStatusBadge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 12px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 600;
  white-space: nowrap;
}

// Status variants
.jmlStatusPending {
  @extend .jmlStatusBadge;
  background: $jml-warning-light;
  color: #946300;
}

.jmlStatusActive,
.jmlStatusPublished {
  @extend .jmlStatusBadge;
  background: $jml-success-light;
  color: #0b5a0b;
}

.jmlStatusCompleted,
.jmlStatusApproved {
  @extend .jmlStatusBadge;
  background: $jml-success-light;
  color: #0b5a0b;
}

.jmlStatusDraft {
  @extend .jmlStatusBadge;
  background: $jml-neutral-lighter;
  color: $jml-neutral-secondary;
}

.jmlStatusOverdue,
.jmlStatusRejected,
.jmlStatusFailed {
  @extend .jmlStatusBadge;
  background: $jml-error-light;
  color: #a80000;
}

.jmlStatusArchived,
.jmlStatusInactive {
  @extend .jmlStatusBadge;
  background: $jml-neutral-light;
  color: $jml-neutral-tertiary;
}

.jmlStatusScheduled {
  @extend .jmlStatusBadge;
  background: $jml-info-light;
  color: #004578;
}

.jmlStatusInProgress {
  @extend .jmlStatusBadge;
  background: $jml-info-light;
  color: #004578;
}

// =============================================================================
// TAGS & PILLS
// =============================================================================
.jmlTag {
  display: inline-flex;
  align-items: center;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 500;
  background: $jml-info-light;
  color: $jml-primary;
  white-space: nowrap;
}

.jmlTagGroup {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
}

// Tag variants
.jmlTagSecondary {
  @extend .jmlTag;
  background: $jml-neutral-lighter;
  color: $jml-neutral-secondary;
}

.jmlTagSuccess {
  @extend .jmlTag;
  background: $jml-success-light;
  color: $jml-success;
}

.jmlTagWarning {
  @extend .jmlTag;
  background: $jml-warning-light;
  color: #946300;
}

.jmlTagError {
  @extend .jmlTag;
  background: $jml-error-light;
  color: $jml-error;
}

// =============================================================================
// ACTION BUTTONS (in table cells)
// =============================================================================
.jmlTableActions {
  display: flex;
  align-items: center;
  gap: 4px;
  justify-content: flex-end;
}

.jmlTableActionButton {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border: none;
  border-radius: 4px;
  background: transparent;
  color: $jml-neutral-secondary;
  cursor: pointer;
  transition: all 0.15s ease;

  &:hover {
    background: $jml-neutral-lighter;
    color: $jml-primary;
  }

  &:active {
    background: $jml-neutral-light;
  }

  &.danger:hover {
    background: $jml-error-light;
    color: $jml-error;
  }
}

// =============================================================================
// CHECKBOX COLUMN
// =============================================================================
.jmlTableCheckbox {
  width: 40px;
  text-align: center;

  input[type="checkbox"] {
    width: 16px;
    height: 16px;
    cursor: pointer;
  }
}

// =============================================================================
// AVATAR/USER CELL
// =============================================================================
.jmlTableUser {
  display: flex;
  align-items: center;
  gap: $spacing-m;
}

.jmlTableUserAvatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: $jml-primary;
  color: $jml-white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 600;
  flex-shrink: 0;
}

.jmlTableUserInfo {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0; // Allow text truncation
}

.jmlTableUserName {
  font-weight: 500;
  color: $jml-neutral-primary;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.jmlTableUserEmail {
  font-size: 12px;
  color: $jml-neutral-secondary;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

// =============================================================================
// MULTI-LINE CELL
// =============================================================================
.jmlTableCellMultiLine {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.jmlTableCellPrimary {
  font-weight: 500;
  color: $jml-neutral-primary;
}

.jmlTableCellSecondary {
  font-size: 12px;
  color: $jml-neutral-secondary;
}

// =============================================================================
// EMPTY STATE
// =============================================================================
.jmlTableEmpty {
  text-align: center;
  padding: 48px 24px;
  color: $jml-neutral-secondary;

  .emptyIcon {
    font-size: 48px;
    color: $jml-neutral-light;
    margin-bottom: 16px;
  }

  .emptyTitle {
    font-size: 18px;
    font-weight: 600;
    color: $jml-neutral-primary;
    margin-bottom: 8px;
  }

  .emptyDescription {
    font-size: 14px;
    color: $jml-neutral-secondary;
    margin-bottom: 16px;
  }
}

// =============================================================================
// LOADING STATE (Skeleton)
// =============================================================================
.jmlTableSkeleton {
  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }

  .skeletonCell {
    height: 16px;
    background: linear-gradient(90deg, $jml-neutral-lighter 25%, $jml-neutral-light 50%, $jml-neutral-lighter 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
    border-radius: 4px;
  }
}

// =============================================================================
// PAGINATION FOOTER
// =============================================================================
.jmlTablePagination {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: $spacing-m $spacing-l;
  background: $jml-neutral-lightest;
  border-top: 1px solid $jml-neutral-light;
  font-size: 13px;
  color: $jml-neutral-secondary;
}

.jmlTablePaginationInfo {
  display: flex;
  align-items: center;
  gap: $spacing-s;
}

.jmlTablePaginationControls {
  display: flex;
  align-items: center;
  gap: $spacing-s;
}

.jmlTablePaginationButton {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 32px;
  height: 32px;
  padding: 0 $spacing-s;
  border: 1px solid $jml-neutral-light;
  border-radius: 4px;
  background: $jml-white;
  color: $jml-neutral-primary;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.15s ease;

  &:hover:not(:disabled) {
    background: $jml-neutral-lightest;
    border-color: $jml-neutral-tertiary;
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  &.active {
    background: $jml-primary;
    border-color: $jml-primary;
    color: $jml-white;
  }
}

// =============================================================================
// RESPONSIVE TABLE (horizontal scroll on small screens)
// =============================================================================
.jmlTableResponsive {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;

  .jmlTable {
    min-width: 800px; // Adjust based on content
  }
}

// =============================================================================
// COMPACT TABLE VARIANT
// =============================================================================
.jmlTableCompact {
  .jmlTableHeaderCell {
    padding: $spacing-s $spacing-m;
    font-size: 11px;
  }

  .jmlTableCell {
    padding: $spacing-s $spacing-m;
    font-size: 13px;
  }
}

// =============================================================================
// BORDERED TABLE VARIANT (full cell borders)
// =============================================================================
.jmlTableBordered {
  border: 1px solid $jml-neutral-light;

  .jmlTableHeaderCell,
  .jmlTableCell {
    border: 1px solid $jml-neutral-light;
  }

  .jmlTableHeader {
    border-bottom: 2px solid $jml-primary;
  }
}
